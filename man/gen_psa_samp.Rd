% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/gen_psa_samp.R
\name{gen_psa_samp}
\alias{gen_psa_samp}
\title{Generate PSA Sample}
\usage{
gen_psa_samp(params = NULL, dist = c("normal", "log-normal", "beta",
  "gamma", "dirichlet", "bootstrap"),
  parameterization_type = c("mean, sd", "a, b", "shape, scale",
  "value, mean_prop, sd", "value, n", "value, alpha"),
  dist_params = NULL, nsamp = 100)
}
\arguments{
\item{params}{String vector with the names of parameters to be generated by \code{gen_psa_samp}
and used by a user-defined function in \code{run_psa} to calculate outcomes.}

\item{dist}{String vector with the distributions from which \code{params} will be drawn.}

\item{parameterization_type}{String vector with parameterization types for each \code{dist}}

\item{dist_params}{list of input parameters required to by specific \code{dist} and \code{parameterization_type}
to fully describe distribution and generate parameter samples.}

\item{nsamp}{number of sets of parameter values to be generated}
}
\value{
A dataframe with samples of parameters for a probabilistic sensitivity analysis (PSA)
}
\description{
\code{gen_psa_samp} generates a data.frame of sampled parameter values from user-specified distributions
to be used in a probabilistic sensitivity analysis (PSA)
}
\details{
Length of vectors \code{params}, \code{dist}, \code{parameterization_type}, and list \code{dist_params} must all
be the same.
The nth element of \code{dist}, \code{parameterization_type}, and \code{dist_params} all define the distribution that will be
used to draw samples of the corresponding nth element of the \code{params} vector.

For a given element of \code{params}:
\itemize{
\item If \code{dist == "normal"}, \code{parameterization_type} can only be \code{"mean, sd"},
and the corresponding element of list \code{dist_params} must be the the vector \code{c(mean, sd)}

\item If \code{dist == "log-normal"}, \code{parameterization_type} can only be \code{"mean, sd"},
and the corresponding element of list \code{dist_params} must be the the vector \code{c(mean, sd)}

\item If \code{dist == "beta"}, \code{parameterization_type} can be \code{"mean, sd"} or \code{"a, b"}
and the corresponding element of list \code{dist_params} must be the the vector \code{c(mean, sd)}
or \code{c(a, b)}, respectively.

\item If \code{dist == "gamma"}, \code{parameterization_type} can be \code{"mean, sd"} or \code{"shape, scale"}
and the corresponding element of list \code{dist_params} must be the the vector \code{c(mean, sd)}
or \code{c(shape, scale)}, respectively.

\item If \code{dist == "dirichlet"}, \code{parameterization_type} can be \code{"value, mean_prop, sd"},
\code{"value, n"}, or \code{"value, alpha"}.
\itemize{
\item If \code{parameterization_type == "value, mean_prop, sd"},
then the corresponding element of list \code{dist_params} must be a data.frame where the first column
is a string vector of the the different multinomial outcomes. These multinomial outcomes will become column names
in the data.frame returned by \code{gen_psa_samp}, and therefore the strings in this column should correspond to
variable names used in \code{FUN} for \code{\link{run_psa}}. The second and third columns of this \code{dist_params}
should be numerical vectors containing the sample means and sample standard errors for each of the multinomial outcomes.

\item If \code{parameterization_type == "value, n"}, then \code{dist_params} must be a data.frame with the first column
being a string vector of the multinomial outcomes, and the second column being a vector of the observed number of each
multinomial outcome in a sample.

\item If \code{parameterization_type == "value, alpha"}, then \code{dist_params} must be a data.frame with
the first column being a string vector of the multinomial outcomes, and the second column must be a numerical vector
of the alpha parameter values for each multinomial outcome in the dirichlet distribution.
}

\item If \code{dist == "bootstrap"}, \code{parameterization_type} can only be \code{"value, weight"}, and \code{dist_params}
must be a data.frame with the first column being a numerical vector containing all of the bootstrap sample values, and
the second column being an integer vector designating the sampling weights of each bootstrap sample value.  For example,
the number of rows in the \code{dist_params} data.frame is the number of individuals in the population to be sampled
from (with replacement) or the number of values an empirical distribution (e.g. a histogram). If each individual value in the
sample is unique and should be weighted equally, set each weight to 1. If the sample distribution resembles a histogram,
the weights should be equal to the number of observations for each unique value in the empirical distribution.
}
}
\examples{
#define parameter names
params <- c("normal_param", "lognorm_param", "beta_param",
            "gamma_param", "dirichlet_param", "bootstrap_param")

#indicate parent distribution types for each parameter
dist <- c("normal", "log-normal", "beta", "gamma", "dirichlet", "bootstrap")

#indicate which type of parameterization is used for each parent distribution
parameterization_type <- c("mean, sd", "mean, sd", "mean, sd", "mean, sd",
                          "value, mean_prop, sd", "value, weight")

#provide distribution parameters that fully define each parent distribution, and
#ensure that these distribution parameters match the form expected by each combination of dist
#and parameterization_type
dist_params <- list(c(1, 2), c(1, 3), c(.5, .2), c(100, 1),
                   data.frame(value = c("level1", "level2", "level3"),
                              mean_prop = c(.1, .4, .5), sd = c(.05, .01, .1)),
                   data.frame(value = c(1, 2, 4, 6, 7, 8),
                              weight = c(1, 1, 1, 1, 1, 4)))

#generate 100 samples of parameter values to be used in a probabilistic sensitivity analysis
gen_psa_samp(params = params,
             dist = dist,
             parameterization_type = parameterization_type,
             dist_params = dist_params,
             nsamp = 100)

}
\seealso{
\code{\link{run_psa}}
}
